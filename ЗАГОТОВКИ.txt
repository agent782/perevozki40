yf yt yfqltyfJS LOADER
____________________________________
e-mail Клиенту оформлении заказа
e-mail Клиенту. Машина не найдена

Письмо клиенту при изменении статуса заказа

Добрый день, name!

$text

Спасибо, что Вы с нами!
Команда PEREVOZKI40.RU.

Письмо водителю при изменении статуса заказа

------------------------------

___________________________
Отправка емэил

После оформления заказа Order -> afterSave
После добавления ТС логисту VehicleController->actionCreate
Машина не найдена. CronController Monitoring.......
__________________________________________
CRON
grep CRON /var/log/syslog ЛОГИ
Доустановить

Чтобы редактировать записи, используйте cronab -e

CRONTAB
проверка просроченных заказов и отправка уведомлений
*/6 * * * * /mnt/hgfs/H/test.loc/yii cron/monitoring-expired-orders


//        $cronJob = new CronJob();
//        $cronJob->min = '*/6';
//        $cronJob->command = Yii::getAlias('@app/yii cron/monitoring-expired-orders');
//
//        $cronTab = new CronTab();
//        $cronTab->setJobs([
//            $cronJob
//        ]);
//        $cronTab->apply();
//        $cronTab->removeAll();

=====================================
MYSQL EVENTS

Обновление статуса заказа после истечения времени на поиск ТС
Order   afterSave()

+++++++++++++++++++++++++++++++++++++++++
НАСТРОЙКИ

______________________________________

Push

pushall.ru
UserController actionAddpushallid
sendPush

Сохранение нового заказа Order/afterSave Message
Машина не найдена cron/monitoring....   new Message afterSave
____________________________
ПЕРЕНОС НА СЕРВЕР

Поменять адрес колбэк экшена на pushall.ru
Включить обработку событий на mysql сервере
event_scheduler=ON в /etc/mysql/mysql.conf.d/mysqld.cnf
==============================
Возврат на страницу входа, если не залогинен
1. 'access' => [
                'class' => AccessControl::class,
                'rules' => [
                    [
                        'allow' => true,
                        'roles' => ['car_owner', 'client']]],            ]
2.  'user' => [
               'identityClass' => 'app\models\User',
               'enableAutoLogin' => true,
               'loginUrl' => ['/default/login', 'urlBack' => $_SERVER['REQUEST_URI']],],
 3. DefaultController/actionLogin
    if($urlBack = Yii::$app->request->get('urlBack')){
                   return $this->redirect($urlBack);}
  ______________________________________________
Ппоказывать весь текст при наведении
.truncate {
    max-width: 150px !important;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

.truncate:hover{
    overflow: visible;
    white-space: normal;
    width: auto;
}
++++++++++++++++++++++++++++++++++++++++++
ActiveField RadioList ЭКРАНИРОВАНИЕ html
['encode' => false]
==========================================
Рейтинг Rating
id, value, text, type(vehicle, client), comment, create_at, update_at, status
==============================================